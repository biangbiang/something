Crontab
=======

### Crontab简介

任务调度的crond常驻命令

crond 是linux用来定期执行程序的命令。当安装完成操作系统之后，默认便会启动此任务调度命令。crond命令每分锺会定期检查是否有要执行的工作，如果有要执行的工作便会自动执行该工作。

而linux任务调度的工作主要分为以下两类：

1、系统执行的工作：系统周期性所要执行的工作，如备份系统数据、清理缓存

2、个人执行的工作：某个用户定期要做的工作，例如每隔10分钟检查邮件服务器是否有新信，这些工作可由每个用户自行设置

### 命令格式

Crontab命令的格式为：crontab –l|-r|-e|-i [username]

* -e [UserName]: 执行文字编辑器来设定时程表，内定的文字编辑器是 VI，如果你想用别的文字编辑器，则请先设定 VISUAL 环境变数来指定使用那个文字编辑器(比如说 setenv VISUAL joe)
* -r [UserName]: 删除目前的时程表
* -l [UserName]: 列出目前的时程表
* -v [UserName]: 列出用户cron作业的状态

### 步骤

利用crontab来定时执行任务大致有如下三步：

1、编写shell脚本

2、利用crontab加入到定时任务队列

3、查看作业完成情况

### 注意

1. 当程式在你所指定的时间执行后，系统会寄一封信给你，显示该程式执行的内容，若是你不希望收到这样的信，请在每一行空一格之后加上 > /dev/null 2>&1 即可。

2. %在crontab中被认为是newline，要用\来escape才行。比如crontab执行行中，如果有"date +%Y%m%d"，必须替换为："date +\%Y\%m\%d"

### crond

crond的概念和crontab是不可分割的。crontab是一个命令，常见于Unix和类Unix的操作系统之中，用于设置周期性被执行的指令。该命令从标准输入设备读取指令，并将其存放于“crontab”文件中，以供之后读取和执行。该词来源于希腊语 chronos(χρόνος)，原意是时间。而crond正是它的守护进程。

### 用法

* crontab -u //设定某个用户的cron服务
* crontab -l //列出某个用户cron服务的详细内容
* crontab -r //删除没个用户的cron服务
* crontab -e //编辑某个用户的cron服务

### 范例格式

* f1 f2 f3 f4 f5 program

* {分} {时} {日} {月} {星期} {要运行的命令}

Crontab文件的一个条目是从左边读起的，第一列是分，最后一列是要运行的命令，它位
于星期的后面。
在这些域中，可以用横杠-来表示一个时间范围，例如你希望星期一至星期五运行某个作
业，那么可以在星期域使用1 - 5来表示。还可以在这些域中使用逗号“,”，例如你希望星期一
和星期四运行某个作业，只需要使用1 , 4来表示。可以用星号*来表示连续的时间段。如果你
对某个表示时间的域没有特别的限定，也应该在该域填入*。该文件的每一个条目必须含有5
个时间域，而且每个域之间要用空格分隔。该文件中所有的注释行要在行首用#来表示。
